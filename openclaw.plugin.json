{
  "id": "memory-mcp-ce",
  "kind": "memory",
  "uiHints": {
    "serverUrl": {
      "label": "Memory MCP-CE Server URL",
      "placeholder": "http://localhost:5005",
      "help": "Base URL of your shared memory-mcp-ce instance"
    },
    "bearerToken": {
      "label": "Bearer Token",
      "sensitive": true,
      "help": "BEARER_TOKEN from your memory-mcp-ce .env (leave empty if auth disabled)"
    },
    "autoCapture": {
      "label": "Auto-Capture",
      "help": "Automatically store conversation pairs to memory-mcp-ce after each agent turn."
    },
    "autoRecall": {
      "label": "Auto-Recall",
      "help": "Automatically retrieve relevant memories before each agent turn."
    },
    "autoRecallNumResults": {
      "label": "Auto-Recall Results",
      "help": "How many memories to surface per turn during auto-recall. Default: 3.",
      "advanced": true,
      "placeholder": "3"
    },
    "minSimilarity": {
      "label": "Min Similarity Threshold",
      "help": "Minimum similarity score (0\u20131) for auto-recall injection. Default: 0.60",
      "advanced": true,
      "placeholder": "0.60"
    },
    "allowedChannels": {
      "label": "Allowed Channels",
      "help": "Session channels to store/recall for. Default: [\"main\"]. Filters out cron, discord, etc.",
      "advanced": true,
      "placeholder": "main"
    },
    "excludeAgents": {
      "label": "Excluded Agents",
      "help": "Agent IDs to skip entirely (belt-and-suspenders with channel filter). Default: [\"cron\"].",
      "advanced": true,
      "placeholder": "cron"
    },
    "noReplyTokens": {
      "label": "No-Reply Tokens",
      "help": "Agent responses that mean 'nothing to say' \u2014 skip storing these. Default: [\"NO_REPLY\",\"HEARTBEAT_OK\"].",
      "advanced": true
    },
    "minResponseChars": {
      "label": "Min Response Characters",
      "help": "Skip storing pairs where the agent response is shorter than this. Default: 80.",
      "advanced": true,
      "placeholder": "80"
    },
    "wakeupRecency": {
      "label": "Wake-up Recency Injection",
      "help": "On new sessions, inject the last N stored memories as <last-session> context before semantic recall. Default: false.",
      "advanced": true
    },
    "wakeupRecencyCount": {
      "label": "Wake-up Recency Count",
      "help": "Number of recent memories to inject on session wake-up (wakeupRecency must be true). Default: 5.",
      "advanced": true,
      "placeholder": "5"
    },
    "wakeupTrending": {
      "label": "Wake-up Trending Injection",
      "help": "On new sessions, fetch trending topics and inject matching memories as <wakeup-context> before semantic recall (L3 wake-up). Default: false.",
      "advanced": true
    },
    "wakeupTrendingDays": {
      "label": "Wake-up Trending Days",
      "help": "Number of days to look back for trending topics. Default: 7.",
      "advanced": true,
      "placeholder": "7"
    },
    "wakeupTrendingLimit": {
      "label": "Wake-up Trending Limit",
      "help": "Number of trending labels to fetch. Default: 10.",
      "advanced": true,
      "placeholder": "10"
    },
    "wakeupTrendingCount": {
      "label": "Wake-up Trending Count",
      "help": "Number of trending memories to inject at wake-up. Default: 5.",
      "advanced": true,
      "placeholder": "5"
    },
    "enrichmentEnabled": {
      "label": "Enrichment Cron (L3)",
      "help": "Enable background label enrichment via a tiny LLM. Requires enrichmentEndpoint and enrichmentModel.",
      "advanced": true
    },
    "enrichmentEndpoint": {
      "label": "Enrichment LLM Endpoint",
      "help": "Base URL of OpenAI-compatible LLM (e.g. http://localhost:11434 for Ollama).",
      "advanced": true,
      "placeholder": "http://localhost:11434"
    },
    "enrichmentModel": {
      "label": "Enrichment Model",
      "help": "Model name for label generation (e.g. ministral-3:3b).",
      "advanced": true,
      "placeholder": "ministral-3:3b"
    },
    "enrichmentApiKey": {
      "label": "Enrichment API Key",
      "sensitive": true,
      "help": "Bearer token for LLM endpoint (optional, leave empty for local Ollama).",
      "advanced": true
    },
    "enrichmentBatchSize": {
      "label": "Enrichment Batch Size",
      "help": "Memories to process per cron tick (default: 1, increase for capable hardware).",
      "advanced": true,
      "placeholder": "1"
    },
    "enrichmentTimeoutMs": {
      "label": "Enrichment Timeout (ms)",
      "help": "LLM request timeout in milliseconds (default: 120000).",
      "advanced": true,
      "placeholder": "120000"
    }
  },
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "required": [
      "serverUrl"
    ],
    "properties": {
      "serverUrl": {
        "type": "string"
      },
      "bearerToken": {
        "type": "string"
      },
      "autoCapture": {
        "type": "boolean"
      },
      "autoRecall": {
        "type": "boolean"
      },
      "autoRecallNumResults": {
        "type": "number",
        "minimum": 1,
        "maximum": 20
      },
      "minSimilarity": {
        "type": "number",
        "minimum": 0,
        "maximum": 1
      },
      "allowedChannels": {
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "excludeAgents": {
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "noReplyTokens": {
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "minResponseChars": {
        "type": "number",
        "minimum": 0
      },
      "wakeupRecency": {
        "type": "boolean"
      },
      "wakeupRecencyCount": {
        "type": "number",
        "minimum": 1,
        "maximum": 20
      },
      "wakeupTrending": {
        "type": "boolean"
      },
      "wakeupTrendingDays": {
        "type": "number",
        "minimum": 1,
        "maximum": 90
      },
      "wakeupTrendingLimit": {
        "type": "number",
        "minimum": 1,
        "maximum": 50
      },
      "wakeupTrendingCount": {
        "type": "number",
        "minimum": 1,
        "maximum": 20
      },
      "enrichmentEnabled": {
        "type": "boolean"
      },
      "enrichmentEndpoint": {
        "type": "string"
      },
      "enrichmentModel": {
        "type": "string"
      },
      "enrichmentApiKey": {
        "type": "string"
      },
      "enrichmentNonce": {
        "type": "string"
      },
      "enrichmentTimeoutMs": {
        "type": "number",
        "minimum": 1000
      },
      "enrichmentBatchSize": {
        "type": "number",
        "minimum": 1,
        "maximum": 10
      }
    }
  }
}